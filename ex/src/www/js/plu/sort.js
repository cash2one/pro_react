(function(e){"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=e(require("./Sortable")):"function"===typeof define&&define.amd?define(["./sortable.js"],e):window.SortableMixin=e(Sortable)})(function(e){function h(a){return a.sortableOptions&&a.sortableOptions.model||n.model}function p(a){var b=h(a);return(a.state&&a.state[b]||a.props[b]).slice()}function f(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}var q,g,n={ref:"list",model:"items",animation:100,onStart:"handleStart",
onEnd:"handleEnd",onAdd:"handleAdd",onUpdate:"handleUpdate",onRemove:"handleRemove",onSort:"handleSort",onFilter:"handleFilter",onMove:"handleMove",onClone:"handleClone"};return{sortableMixinVersion:"0.1.2",_sortableInstance:null,componentDidMount:function(){var a,b=f(f({},n),this.sortableOptions||{}),c=f({},b),r=function(a,c){var d=b[a];d&&"string"===typeof d&&(d=this[d]);d&&"function"===typeof d&&d.call(this,c,this._sortableInstance)}.bind(this);"onStart onEnd onAdd onSort onUpdate onRemove onFilter onMove".split(" ").forEach(function(a){c[a]=
function(b){if("onStart"===a)q=b.item.nextElementSibling,g=this;else if("onAdd"===a||"onUpdate"===a){b.from.insertBefore(b.item,q);var d={},e={},k=b.oldIndex,f=b.newIndex,l=p(this),m;"onAdd"===a?(m=p(g),k=m.splice(k,1)[0],l.splice(f,0,k),e[h(g)]=m):l.splice(f,0,l.splice(k,1)[0]);d[h(this)]=l;if(c.stateHandler)this[c.stateHandler](d);else this.setState(d);this!==g&&g.setState(e)}setTimeout(function(){r(a,b)},0)}.bind(this)},this);a="function"===typeof this.getDOMNode?(this.refs[b.ref]||this).getDOMNode():
this.refs[b.ref]||this;this._sortableInstance=e.create(a,c)},componentWillReceiveProps:function(a){var b={},c=h(this);if(a=a[c])b[c]=a,this.setState(b)},componentWillUnmount:function(){this._sortableInstance.destroy();this._sortableInstance=null}}});